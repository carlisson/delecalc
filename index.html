<!DOCTYPE html>
    <html>
        <head>
            <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
            <title>DeleCalc - Calculadora para Eleição de Delegados</title>
            <link rel="stylesheet" type="text/css" href="semantic.min.css">
            <link rel="icon" href="delecalc.ico">
            <script src="jquery-3.3.1.min.js"></script>
            <script src="semantic.min.js"></script>
            <script src="dele.js"></script>
        </head>
        <body>

<h1 class="ui center aligned header">DeleCalc <a id="about-box" class="ui mini circular red button">?</a></h1>

<div class="ui tab container active" data-tab="ini">
<h2 class="ui header">Configuração Inicial</h2>
	<form id="initial">
		<div class="ui labeled input">
		  <div class="ui label">
		    Quantidade de chapas:
		  </div>
		  <input id="chapas" type="number" min="1" max="500"></input>
		</div><br>
		<div class="ui labeled input">
		  <div class="ui label">
		    Vagas de Delegados:
		  </div>
		  <input id="vagas" type="number" min="1" max="500"></input>
		</div><br>
		<a id="initial-finish" class="ui button">Próximo</a>
	</form>
</div>

<div class="ui tab container" data-tab="dat">
<h2 class="ui header">Votos Recebidos</h2>
	<form id="data">
      <div class="ui labeled input">
        <div class="ui label">Votos Brancos</div>
        <input type="number" min="0" max="10000" id="vbrancos" name="vbrancos"></input>
      </div><br>
      <div class="ui labeled input">
        <div class="ui black label">Votos Nulos</div>
        <input type="number" min="0" max="10000" id="vnulos" name="vnulos"></input>
      </div><br>
	    <a id="data-finish" class="ui button">Calcular</a>
	</form>
</div>

<div id="result" class="ui tab container" data-tab="res">
<h2 class="ui header">Resultado Final</h2>
	<div id="simple" class="ui celled big list"></div>
        <div id="details" class="ui accordion">
		<div class="title">
			<i class="dropdown icon"></i>
			Detalhes
		</div>
                <div class="content">
			<div id="log" class="ui relaxed divided list">
			</div>
		</div>
	</div>
</div>

</div>

<div class="ui modal">
  <div class="header">
    Sobre o DeleCalc
  </div>
  <div class="content">
    DeleCalc foi criado para facilitar a contagem de votos em eleições para delegados
    de sindicatos de base da Fasubra, sejam para Congresso ou Plenária. As regras
    utilizadas estão no <a href="http://fasubra.org.br/wp-content/uploads/2016/10/estatuto.pdf">
    Estatuto da Fasubra</a>. Em resumo:
    <ul>
      <li>Eleição se dá através de chapas. Cada chapa precisa ter uma quantidade de participantes inscritos, no mínimo 20% da quantidade de vagas para delegado em disputa;</li>
      <li>O total de vagas aceitas pela Fasubra leva em conta a base do sindicato. Consulte o Estatuto;</li>
      <li>As vagas de fato precisam levar em conta a quantidade de votantes (aplicado o limite acima). A cada 10 votantes, um delegado é permitido; acrescido de 1 caso o restante seja superior ou igual a 5;</li>
      <li>Caso 2 chapas estejam disputando vagas, cada chapa precisa ter pelo menos 10% dos votos para ser habilitada;</li>
      <li>Caso haja mais de 2 chapas, cada chapa precisa ter pelo menos 5% do total de votos;</li>
      <li>A definição de quais delegados uma chapa vai levar depende de acordo prévio da chapa. Na maioria dos casos, a sequência na listagem é usada para definir quais delegados sairão de determinada chapa.</li>
    </ul>
    Por exemplo, se há 4 chapas disputando 3 vagas e elas obtém, respectivamente, 15, 44, 2 e 27 votos:
    <ul>
      <li>Sendo 88 votos, 5% equivale a 4,4 votos. Ou seja, quem tiver menos que 5 votos inteiros não pode concorrer</li>
      <li>Chapa 3 é eliminada por ter obtido apenas 2 votos</li>
      <li>Com 3 chapas habilitadas, devemos considerar o novo total: 86 votos</li>
      <li>O quociente eleitoral é calculado na forma: total/vagas. 88/3 dá 28,7</li>
      <li>Isso significa que a cada 28,7 votos cada chapa elege 1 delegado</li>
      <li>A mais votada foi a chapa 2, então ela elege o primeiro delegado</li>
      <li>Para eleger este delegado, ela "gastou" 28,7 votos, ficando com 15,3 votos.</li>
      <li>Nenhuma chapa tem mais o quociente eleitoral. Como ainda há vagas, continuaremos a distribuir essas vagas às chapas mais votadas (com votos ainda não utilizados).</li>
      <li>A mais votada agora é a Chapa 4, com 27 votos. Ela fica com a segunda vaga de delegado. Como 27 é menos que 28,7, ela gasta todos os votos que tinha para conseguir esta vaga.</li>
      <li>Resta uma vaga e duas chapas que ainda têm votos: Chapa 1 com seus 15 votos iniciais; chapa 2 com seus 15,3 votos remanescentes.</li>
      <li>Como a Chapa 2 tem mais votos agora (0,3 a mais que a Chapa 1), ela fica com a terceira vaga de delegado.</li>
      <li>Sem mais vagas, a Chapa 1, com seus 15 votos remanescentes (todas as outras estão sem votos agora), não elege ninguém</li>
    </ul>
  </div>
  <div class="actions">
    <div class="ui positive right labeled icon button">
      Ok
    </div>
  </div>
</div>

<div class="ui divider"></div>
<div style="text-align: center; font-size: small"><b class="ui red circular label">D</b> <a href="https://github.com/carlisson/delecalc">DeleCalc 1.0</a> - Desenvolvido por Cárlisson Galdino</div>
        </body>
    </html>
